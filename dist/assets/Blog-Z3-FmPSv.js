import{b as h,p as b,d as g,r as o,j as e,X as f,u as j,H as N,B as v,L as S}from"./index-CKJU1jIA.js";import{u as y,i as w}from"./blogStore-Btocvz5n.js";import{d as C,C as E,f as k,a as L,b as z}from"./helpers-o84_UHUS.js";import{S as B}from"./search-Dv4Ct9DL.js";const R=h()(b((l,n)=>({subscribers:[],subscribe:r=>{const{subscribers:t,isSubscribed:d}=n();return/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(r)?d(r)?{success:!1,message:"This email is already subscribed!"}:(l({subscribers:[...t,{email:r,subscribedAt:new Date().toISOString()}]}),{success:!0,message:"Successfully subscribed! ðŸŽ‰"}):{success:!1,message:"Please enter a valid email address"}},isSubscribed:r=>n().subscribers.some(t=>t.email.toLowerCase()===r.toLowerCase())}),{name:g.NEWSLETTER}));function T({onSearch:l,placeholder:n="Search blog posts..."}){const[r,t]=o.useState(""),[d,c]=o.useState(!1),m=C(i=>{l(i)},300),u=i=>{const p=i.target.value;t(p),m(p)},x=()=>{t(""),l("")};return e.jsxs("div",{className:"relative",children:[e.jsxs("div",{className:`
          relative flex items-center border-2 rounded-lg transition-all duration-300
          ${d?"border-purple-500 shadow-md":"border-purple-300 hover:border-purple-400"}
        `,children:[e.jsx(B,{className:"absolute left-3 text-gray-400",size:20}),e.jsx("input",{type:"text",value:r,onChange:u,onFocus:()=>c(!0),onBlur:()=>c(!1),placeholder:n,className:"w-full pl-10 pr-10 py-2 rounded-lg focus:outline-none","aria-label":"Search blog posts"}),r&&e.jsx("button",{onClick:x,className:"absolute right-3 text-gray-400 hover:text-gray-600 transition-colors","aria-label":"Clear search",children:e.jsx(f,{size:20})})]}),r&&e.jsxs("p",{className:"mt-2 text-sm text-gray-600",children:["Searching for: ",e.jsx("span",{className:"font-medium text-purple-600",children:r})]})]})}function q(){const{posts:l}=y(),{subscribe:n}=R(),{settings:r}=j(),[t,d]=o.useState(""),[c,m]=o.useState(""),[u,x]=o.useState(null),i=o.useMemo(()=>{if(!t.trim())return l;const s=t.toLowerCase();return l.filter(a=>a.title.toLowerCase().includes(s)||a.excerpt.toLowerCase().includes(s)||a.content.toLowerCase().includes(s))},[l,t]),p=s=>{s.preventDefault();const a=n(c);x({message:a.message,isError:!a.success}),a.success&&m(""),setTimeout(()=>x(null),5e3)};return e.jsxs(e.Fragment,{children:[e.jsxs(N,{children:[e.jsxs("title",{children:["Blog | ",r.title]}),e.jsx("meta",{name:"description",content:"Read the latest insights from Gizmeli Kedi on planning, strategy, and professional development"})]}),e.jsxs("div",{className:"space-y-8",children:[e.jsxs("div",{className:"bg-white border-4 border-pink-500 rounded-lg p-8 shadow-lg",children:[e.jsxs("h2",{className:"text-3xl font-bold text-purple-600 mb-6 text-center flex items-center justify-center gap-2",children:[e.jsx(v,{className:"text-pink-500","aria-hidden":"true"}),"Gizmeli Kedi's Blog"]}),e.jsx("div",{className:"mb-6",children:e.jsx(T,{onSearch:d})}),i.length===0?e.jsxs("div",{className:"text-center py-12",children:[e.jsx("p",{className:"text-gray-600 text-lg mb-2",children:"No posts found ðŸ˜¿"}),e.jsx("p",{className:"text-gray-500",children:"Try a different search term"})]}):e.jsxs(e.Fragment,{children:[e.jsxs("p",{className:"text-sm text-gray-600 mb-4",children:["Showing ",i.length," ",i.length===1?"post":"posts"]}),e.jsx("div",{className:"grid gap-6",children:i.map(s=>{const a=w[s.icon];return e.jsx("article",{className:"bg-pink-50 rounded-lg p-6 transition-transform duration-300 hover:transform hover:scale-[1.02] border-2 border-purple-200",children:e.jsxs("div",{className:"flex items-start gap-4",children:[e.jsx("div",{className:"flex-shrink-0 bg-white p-3 rounded-full shadow-md",children:e.jsx(a,{className:"text-purple-500",size:24})}),e.jsxs("div",{className:"flex-grow",children:[e.jsx("h3",{className:"text-xl font-bold text-purple-600 mb-2",children:s.title}),e.jsxs("div",{className:"flex items-center gap-4 text-sm text-gray-600 mb-3",children:[e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(E,{size:16,"aria-hidden":"true"}),e.jsx("time",{dateTime:s.date,children:k(s.date)})]}),e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(L,{size:16,"aria-hidden":"true"}),s.readTime]})]}),e.jsx("p",{className:"text-gray-700 mb-4",children:s.excerpt}),e.jsxs(S,{to:`/blog/${s.id}`,className:"inline-flex items-center text-purple-600 hover:text-purple-700 font-medium hover:underline",children:["Read More",e.jsx(z,{size:16,className:"ml-1","aria-hidden":"true"})]})]})]})},s.id)})})]})]}),e.jsxs("div",{className:"bg-pink-100 border-4 border-purple-400 rounded-lg p-8 shadow-lg text-center",children:[e.jsx("h3",{className:"text-2xl font-bold text-purple-600 mb-4",children:"Subscribe to My Newsletter"}),e.jsx("p",{className:"text-gray-700 mb-4",children:"Get the latest planning insights and cat wisdom delivered to your inbox!"}),e.jsxs("form",{onSubmit:p,className:"max-w-md mx-auto",children:[e.jsxs("div",{className:"flex gap-2",children:[e.jsx("input",{type:"email",value:c,onChange:s=>m(s.target.value),placeholder:"Enter your email",className:"flex-grow px-4 py-2 rounded-md border-2 border-purple-300 focus:border-purple-500 focus:ring focus:ring-purple-200 focus:ring-opacity-50 focus:outline-none",required:!0,"aria-label":"Email address for newsletter"}),e.jsx("button",{type:"submit",className:"bg-purple-600 text-white px-6 py-2 rounded-md hover:bg-purple-700 transition-colors duration-300",children:"Subscribe"})]}),u&&e.jsx("div",{className:`mt-4 p-3 rounded-lg ${u.isError?"bg-red-100 text-red-600":"bg-green-100 text-green-600"}`,children:u.message})]})]})]})]})}export{q as default};
